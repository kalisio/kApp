<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Publish your app | kApp</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <meta name="description" content="kApp - KDK application template">
    
    <link rel="preload" href="/kApp/assets/css/0.styles.1fa0446e.css" as="style"><link rel="preload" href="/kApp/assets/js/app.df1b6c3f.js" as="script"><link rel="preload" href="/kApp/assets/js/3.570126cc.js" as="script"><link rel="preload" href="/kApp/assets/js/19.e493b7a4.js" as="script"><link rel="preload" href="/kApp/assets/js/5.74cb447b.js" as="script"><link rel="prefetch" href="/kApp/assets/js/10.e8b251f8.js"><link rel="prefetch" href="/kApp/assets/js/11.574ac872.js"><link rel="prefetch" href="/kApp/assets/js/12.28ba3fb1.js"><link rel="prefetch" href="/kApp/assets/js/13.9e4b8dd2.js"><link rel="prefetch" href="/kApp/assets/js/14.46081452.js"><link rel="prefetch" href="/kApp/assets/js/15.0b5508a8.js"><link rel="prefetch" href="/kApp/assets/js/16.0791dd24.js"><link rel="prefetch" href="/kApp/assets/js/17.97c6620a.js"><link rel="prefetch" href="/kApp/assets/js/18.1ae591b5.js"><link rel="prefetch" href="/kApp/assets/js/2.cbdd6b15.js"><link rel="prefetch" href="/kApp/assets/js/20.734ac1dc.js"><link rel="prefetch" href="/kApp/assets/js/21.0c87f811.js"><link rel="prefetch" href="/kApp/assets/js/22.a94bba2e.js"><link rel="prefetch" href="/kApp/assets/js/23.9edf7edb.js"><link rel="prefetch" href="/kApp/assets/js/24.027fa423.js"><link rel="prefetch" href="/kApp/assets/js/25.41f858f9.js"><link rel="prefetch" href="/kApp/assets/js/26.b54298d5.js"><link rel="prefetch" href="/kApp/assets/js/27.8910133c.js"><link rel="prefetch" href="/kApp/assets/js/28.4f253e94.js"><link rel="prefetch" href="/kApp/assets/js/4.02093604.js"><link rel="prefetch" href="/kApp/assets/js/6.97220d0f.js"><link rel="prefetch" href="/kApp/assets/js/7.c1248ca3.js"><link rel="prefetch" href="/kApp/assets/js/8.98ec870f.js"><link rel="prefetch" href="/kApp/assets/js/9.d34b5db8.js">
    <link rel="stylesheet" href="/kApp/assets/css/0.styles.1fa0446e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kApp/" class="home-link router-link-active"><!----> <span class="site-name">kApp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kApp/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kApp/guides/introduction.html" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kApp/reference/configuration.html" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="https://github.com/kalisio/kApp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kApp/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kApp/guides/introduction.html" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kApp/reference/configuration.html" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="https://github.com/kalisio/kApp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/kApp/guides/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/kApp/guides/installing-kapp.html" class="sidebar-link">Installing kApp</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Customizing kApp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Development</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kApp/guides/development/setup.html" class="sidebar-link">Setup your environment</a></li><li><a href="/kApp/guides/development/develop.html" class="sidebar-link">Develop your app</a></li><li><a href="/kApp/guides/development/test.html" class="sidebar-link">Testing your app</a></li><li><a href="/kApp/guides/development/configure.html" class="sidebar-link">Configure your app</a></li><li><a href="/kApp/guides/development/deploy.html" class="sidebar-link">Deploy your app</a></li><li><a href="/kApp/guides/development/publish.html" aria-current="page" class="active sidebar-link">Publish your app</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="publish-your-app"><a href="#publish-your-app" class="header-anchor">#</a> Publish your app</h1> <p>In a nutshell, the tasks are performed manually and independently using the required commands at the different stages of the application lifecycle to be published in the Docker Hub.</p> <p>In order to change the version number in a web app you have to increase the package version number in the <strong>package.json</strong> file (frontend and backend API), and possibly Cordova configuration file, of your branch so that the generated artefacts will not erase previously published ones. Depending on the release typing the following command will do the job (where type is either <code>patch</code>, <code>minor</code>, <code>major</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run release:type
</code></pre></div><p>Usually, you start a new version by creating a <code>test</code> (a.k.a release or staging) branch from your <code>master</code> branch. You should then increase the version number (major or minor) of your <code>master</code> branch so that the generated artefacts of the new development version will not erase previously published ones, e.g. <code>npm run release:major</code>.</p> <p>When you are satisfied enough with your version you typically release it starting from your <code>test</code> (a.k.a release or staging) branch by creating a tag accordingly in the git repository and push it. This process usually triggers your <a href="/kApp/guides/development/deploy.html">CI/CD</a> process to build the target artefacts.</p> <p>Then, you should increase the version patch number of your <code>test</code> branch so that the generated artefacts of the new staging version will not erase previously published ones, e.g. <code>npm run release:patch</code>. Indeed, a staging branch should only include patch versions not major/minor versions.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Before you publish your app take care of updating the version of all dependent modules to the latest version published, for example perform <code>yarn upgrade kdk</code> to use the latest versin of the KDK.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If you are using our <a href="/kApp/tools/cli.html#kdk-cli">CLI</a> take care of updating/creating the required workspace file before you publish your app.</p></div> <h3 id="manual-build"><a href="#manual-build" class="header-anchor">#</a> Manual build</h3> <p>Because web app are released as Docker images you can build it locally for testing purpose like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> build -t kalisio/kapp <span class="token builtin class-name">.</span>
</code></pre></div><p>Then release it as latest version:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> login
<span class="token function">docker</span> push kalisio/kapp
</code></pre></div><p>And tag it (<code>version_tag</code> being the current version number like <code>1.1.2-prod</code> or <code>1.1.0-dev</code> depending on the <a href="/kApp/guides/development/deploy.html">flavor</a>)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> tag kalisio/kapp kalisio/kapp:version_tag
<span class="token function">docker</span> push kalisio/kapp:version_tag
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This requires you to have a DockerHub account and be a team member of the Kalisio organization, if you'd like to become a maintainer please tell us</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kApp/guides/development/deploy.html" class="prev">
        Deploy your app
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/kApp/assets/js/app.df1b6c3f.js" defer></script><script src="/kApp/assets/js/3.570126cc.js" defer></script><script src="/kApp/assets/js/19.e493b7a4.js" defer></script><script src="/kApp/assets/js/5.74cb447b.js" defer></script>
  </body>
</html>
